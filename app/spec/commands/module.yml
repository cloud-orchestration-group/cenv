command:
    task:
        base: module
        priority: 970
        groups_allowed: false # Access control via task definitions
        parse:
            module_name:
            task_name:
            task_fields: true
    run:
        base: module
        priority: 980
        parse:
            display_only:
            plan:
            ignore_missing:
            profile_components:
            module_name:
            profile_name:
            profile_config_fields: true
    destroy:
        base: module
        priority: 1000
        confirm: true
        parse:
            display_only:
            force:
            ignore_missing:
            profile_components:
            module_name:
            profile_name:
            profile_config_fields: true
    module:
        resource: module
        base_name: module
        base: module
        priority: 25
        create:
            base: module
            priority: 10
            parameters:
                module_provider_name:
                    parser: variable
                    type: str
                    default: local
                    help: "Module provider name"
                    value_label: "NAME"
                    tags: [provider]
                module_template:
                    parser: variable
                    type: str
                    default: standard
                    help: "Module template package name"
                    value_label: "PACKAGE"
                    tags: [template]
            parse:
                module_name: false
                template_fields: true
                module_template: "--template"
                module_provider_name: "--provider"
        add:
            base: module
            priority: 12
            parameters:
                remote:
                    parser: variable
                    type: str
                    help: "Module remote location"
                    value_label: "LOCATION"
                    tags: [module]
            parse:
                module_provider_name:
                remote: false
        init:
            base: module
            priority: 17
            parameters:
                reset:
                    parser: flag
                    flag: "--reset"
                    help: "force run of module initialization process"
                    tags: [module, initialization]
                timeout:
                    parser: variable
                    type: int
                    default: 600
                    help: "Module mutex lock timeout"
                    value_label: "TIMEOUT"
                    tags: [module, lock]
            parse:
                reset:
                timeout: "--timeout"
        install:
            base: module
            priority: 18
        reset:
            base: module
            priority: 30
        sync:
            base: module
            mixins: [db]
            priority: 30
